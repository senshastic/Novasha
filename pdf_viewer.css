html[mozdisallowselectionprint] {
  &:has(head link:nth-of-type(1)[href^="resource://pdf.js"]) {


  

  html, body {
      background: transparent !important;
  }

  body::before {
content: "" !important;
background: url("https://github.com/senshastic/fallsha-zen-customizations/blob/main/assets/brushed-alum-dark.png?raw=true") repeat !important;
background-attachment: fixed;
background-repeat: repeat;
position: fixed;
top: 0 !important;
left: 0 !important;
width: 100% !important;
height: 100% !important;
pointer-events: none !important;
z-index: -1 !important;
opacity: 0.45 !important;

}

  #toolbarContainer {
    position: absolute !important;

  }
  #viewerContainer {
    inset: 0 !important;
  }


  #toolbarContainer{
    width: calc(100% - 30vw) !important;
    left: calc(50% - 30vw) !important;
    top: 1vh !important;
    backdrop-filter: blur(150px) !important; 
    border-radius: 12px !important;
  box-shadow: inset 0px 2px 0px 0px #00000020, inset 0px 2px 8px 0px #00000040 !important;
  background: rgba(5, 5, 5, .18) !important;
  background-attachment: fixed, fixed, fixed, fixed, fixed, fixed !important;
  background-size: cover, cover, cover, 10px 10px, 10px 10px, 20px 20px !important;
  }


#secondaryToolbar, #editorStampParamsToolbar, #editorHighlightParamsToolbar, #editorFreeTextParamsToolbar, #editorParamsToolbarContainer, #editorInkParamsToolbar, #documentPropertiesDialog {
  border-radius: 12px !important;
backdrop-filter: blur(150px) !important; 
box-shadow: inset 0px 2px 0px 0px #00000020, inset 0px 2px 8px 0px #00000040 !important;
background: rgba(5, 5, 5, .18) !important;
background-attachment: fixed, fixed, fixed, fixed, fixed, fixed !important;
background-size: cover, cover, cover, 10px 10px, 10px 10px, 20px 20px !important;
}

#highlightParamsToolbarContainer{
    background-color: transparent !important;
}

#toolbarSidebar{
  background-color: rgba(5, 5, 5, .18) !important;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(100px) saturate(110%);
  -webkit-backdrop-filter: blur(100px);
  transition: background-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
}

#viewThumbnail{
    background-color: transparent !important;
    border-radius: 12px;
}

button, a, .thumbnail{
    border-radius: 12px !important;
}
button[aria-checked="true"], .treeItem.selected, .thumbnail.selected {
  background-color: rgba(5, 5, 5, .18) !important;
  backdrop-filter: blur(150px) !important; 
  box-shadow: inset 0px 2px 0px 0px #00000020, inset 0px 2px 8px 0px #00000040 !important;
}

button:hover, a:hover, .thumbnail:hover {
  border-radius: 12px !important;
  box-shadow: 0px 2px 0px 0px #FFFFFF0f, 
  0px 2px 8px 0px #00000040,
  inset 0px 8px 8px 0px #FFFFFF07 !important;
outline: 1px solid #ffffff10 !important;
outline-offset: -1px !important;
background-color: transparent !important;
}

.treeItem.selected > a{
  background: transparent !important;
}

.doorHanger, .doorHangerRight {
  &::before {
    border-width: 0px !important;
    border-bottom-color: transparent !important;
  }
}

.doorHangerRight {
  &::after {
    border-bottom-color: transparent !important;
    inset-inline-end: 0px !important;
  }
}


#printButton{
    display: none !important;
}

/* Unified sidebar styling with opacity transition and correct positioning */
#sidebarContainer {
border-radius: 12px !important;
height: calc(100% - 90px) !important;
top: auto !important;
bottom: 15px !important;
left: 15px !important; /* Restored original position */
backdrop-filter: blur(150px) !important; 
box-shadow: inset 0px 2px 0px 0px #00000020, inset 0px 2px 8px 0px #00000040 !important;
background: rgba(5, 5, 5, .18) !important;
background-attachment: fixed, fixed, fixed, fixed, fixed, fixed !important;
background-size: cover, cover, cover, 10px 10px, 10px 10px, 20px 20px !important;

/* Opacity transition */
transition: opacity 0.7s ease, transform 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) !important;

/* Keep position absolute */
position: absolute !important;

/* Ensure the sidebar is fully visible by default */
opacity: 1 !important;
}

/* Change transform rules to opacity rules */
#outerContainer.sidebarMoving:not(.sidebarOpen) #sidebarContainer {
opacity: 0 !important;
/* Add pointer-events: none to prevent interaction when invisible */
pointer-events: none !important;
}

#outerContainer.sidebarMoving.sidebarOpen #sidebarContainer {
opacity: 1 !important;
pointer-events: auto !important;
}

/* Optimization for transitions */
#sidebarContainer {
will-change: opacity;
}


} 
}  html[mozdisallowselectionprint] {
  &:has(head link:nth-of-type(1)[href^="resource://pdf.js"]) {


  html, body {
      background: transparent !important;
  }

  body::before {
content: "" !important;
background: url("https://github.com/senshastic/fallsha-zen-customizations/blob/main/assets/brushed-alum-dark.png?raw=true") repeat !important;
background-attachment: fixed;
background-repeat: repeat;
position: fixed;
top: 0 !important;
left: 0 !important;
width: 100% !important;
height: 100% !important;
pointer-events: none !important;
z-index: -1 !important;
opacity: 0.45 !important;

}

  #toolbarContainer {
    position: absolute !important;

  }
  #viewerContainer {
    inset: 0 !important;
  }


  #toolbarContainer{
    width: calc(100% - 30vw) !important;
    left: calc(50% - 30vw) !important;
    top: 1vh !important;
    backdrop-filter: blur(150px) !important; 
    border-radius: 12px !important;
  box-shadow: inset 0px 2px 0px 0px #00000020, inset 0px 2px 8px 0px #00000040 !important;
  background: rgba(5, 5, 5, .18) !important;
  background-attachment: fixed, fixed, fixed, fixed, fixed, fixed !important;
  background-size: cover, cover, cover, 10px 10px, 10px 10px, 20px 20px !important;
  }


#secondaryToolbar, #editorStampParamsToolbar, #editorHighlightParamsToolbar, #editorFreeTextParamsToolbar, #editorParamsToolbarContainer, #editorInkParamsToolbar, #documentPropertiesDialog {
  border-radius: 12px !important;
backdrop-filter: blur(150px) !important; 
box-shadow: inset 0px 2px 0px 0px #00000020, inset 0px 2px 8px 0px #00000040 !important;
background: rgba(5, 5, 5, .18) !important;
background-attachment: fixed, fixed, fixed, fixed, fixed, fixed !important;
background-size: cover, cover, cover, 10px 10px, 10px 10px, 20px 20px !important;
}

#highlightParamsToolbarContainer{
    background-color: transparent !important;
}

#toolbarSidebar{
  background-color: rgba(5, 5, 5, .18) !important;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(100px) saturate(110%);
  -webkit-backdrop-filter: blur(100px);
  transition: background-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
}

#viewThumbnail{
    background-color: transparent !important;
    border-radius: 12px;
}

button, a, .thumbnail{
    border-radius: 12px !important;
}
button[aria-checked="true"], .treeItem.selected, .thumbnail.selected {
  background-color: rgba(5, 5, 5, .18) !important;
  backdrop-filter: blur(150px) !important; 
  box-shadow: inset 0px 2px 0px 0px #00000020, inset 0px 2px 8px 0px #00000040 !important;
}

button:hover, a:hover, .thumbnail:hover {
  border-radius: 12px !important;
  box-shadow: 0px 2px 0px 0px #FFFFFF0f, 
  0px 2px 8px 0px #00000040,
  inset 0px 8px 8px 0px #FFFFFF07 !important;
outline: 1px solid #ffffff10 !important;
outline-offset: -1px !important;
background-color: transparent !important;
}

.treeItem.selected > a{
  background: transparent !important;
}

.doorHanger, .doorHangerRight {
  &::before {
    border-width: 0px !important;
    border-bottom-color: transparent !important;
  }
}

.doorHangerRight {
  &::after {
    border-bottom-color: transparent !important;
    inset-inline-end: 0px !important;
  }
}


#printButton{
    display: none !important;
}

/* Unified sidebar styling with opacity transition and correct positioning */
#sidebarContainer {
border-radius: 12px !important;
height: calc(100% - 90px) !important;
top: auto !important;
bottom: 15px !important;
left: 15px !important; /* Restored original position */
backdrop-filter: blur(150px) !important; 
box-shadow: inset 0px 2px 0px 0px #00000020, inset 0px 2px 8px 0px #00000040 !important;
background: rgba(5, 5, 5, .18) !important;
background-attachment: fixed, fixed, fixed, fixed, fixed, fixed !important;
background-size: cover, cover, cover, 10px 10px, 10px 10px, 20px 20px !important;

/* Opacity transition */
transition: opacity 0.7s ease, transform 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) !important;

/* Keep position absolute */
position: absolute !important;

/* Ensure the sidebar is fully visible by default */
opacity: 1 !important;
}

/* Change transform rules to opacity rules */
#outerContainer.sidebarMoving:not(.sidebarOpen) #sidebarContainer {
opacity: 0 !important;
/* Add pointer-events: none to prevent interaction when invisible */
pointer-events: none !important;
}

#outerContainer.sidebarMoving.sidebarOpen #sidebarContainer {
opacity: 1 !important;
pointer-events: auto !important;
}

/* Optimization for transitions */
#sidebarContainer {
will-change: opacity;
}


} 
}